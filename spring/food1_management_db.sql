--
-- PostgreSQL database dump
--

-- Dumped from database version 14.18 (Ubuntu 14.18-0ubuntu0.22.04.1)
-- Dumped by pg_dump version 14.18 (Ubuntu 14.18-0ubuntu0.22.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: food; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.food (
    id bigint NOT NULL,
    calories double precision,
    categorie character varying(20) NOT NULL,
    date_creation timestamp(6) without time zone NOT NULL,
    description character varying(500),
    nom character varying(100) NOT NULL,
    prix double precision,
    temps_preparation character varying(50),
    personne_id bigint NOT NULL,
    CONSTRAINT food_categorie_check CHECK (((categorie)::text = ANY ((ARRAY['LEGUMES'::character varying, 'FRUITS'::character varying, 'VIANDES'::character varying, 'CEREALES'::character varying, 'DESSERTS'::character varying])::text[])))
);


ALTER TABLE public.food OWNER TO postgres;

--
-- Name: TABLE food; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.food IS 'Table mise à jour avec des aliments d''exemple';


--
-- Name: food_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.food ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.food_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: food_ingredient; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.food_ingredient (
    quantite_utilisee double precision NOT NULL,
    unite character varying(20) NOT NULL,
    food_id bigint NOT NULL,
    ingredient_id bigint NOT NULL
);


ALTER TABLE public.food_ingredient OWNER TO postgres;

--
-- Name: TABLE food_ingredient; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.food_ingredient IS 'Table mise à jour avec les associations ingrédients-aliments';


--
-- Name: image; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.image (
    id bigint NOT NULL,
    chemin_fichier character varying(500) NOT NULL,
    date_upload timestamp(6) without time zone NOT NULL,
    nom_fichier character varying(255) NOT NULL,
    taille_fichier bigint,
    type_image character varying(20) NOT NULL,
    food_id bigint,
    ingredient_id bigint,
    CONSTRAINT image_type_image_check CHECK (((type_image)::text = ANY ((ARRAY['PRINCIPALE'::character varying, 'GALERIE'::character varying, 'MINIATURE'::character varying])::text[])))
);


ALTER TABLE public.image OWNER TO postgres;

--
-- Name: image_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.image ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.image_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: ingredient; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.ingredient (
    id bigint NOT NULL,
    date_creation timestamp(6) without time zone NOT NULL,
    description character varying(300),
    nom character varying(100) NOT NULL,
    quantite double precision,
    type character varying(20) NOT NULL,
    unite character varying(20),
    CONSTRAINT ingredient_type_check CHECK (((type)::text = ANY ((ARRAY['FRAIS'::character varying, 'SURGELE'::character varying, 'CONSERVE'::character varying, 'SEC'::character varying])::text[])))
);


ALTER TABLE public.ingredient OWNER TO postgres;

--
-- Name: TABLE ingredient; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.ingredient IS 'Table mise à jour avec des ingrédients de base';


--
-- Name: ingredient_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.ingredient ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ingredient_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: personne; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.personne (
    id bigint NOT NULL,
    date_creation timestamp(6) without time zone NOT NULL,
    email character varying(150) NOT NULL,
    mot_de_passe character varying(255) NOT NULL,
    nom character varying(100) NOT NULL,
    telephone character varying(20)
);


ALTER TABLE public.personne OWNER TO postgres;

--
-- Name: TABLE personne; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.personne IS 'Table mise à jour avec des utilisateurs d''exemple';


--
-- Name: personne_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.personne ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.personne_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: food; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.food (id, calories, categorie, date_creation, description, nom, prix, temps_preparation, personne_id) FROM stdin;
12	45	LEGUMES	2025-05-24 11:16:03.433296	Salade fraîche avec tomates et oignons	Salade de tomates	3.5	10 minutes	2
13	35	LEGUMES	2025-05-24 11:16:03.433296	Carottes fraîches râpées avec vinaigrette	Carottes râpées	2.8	5 minutes	3
14	25	LEGUMES	2025-05-24 11:16:03.433296	Salade composée de légumes frais	Salade verte	4.2	15 minutes	4
15	85	FRUITS	2025-05-24 11:16:03.433296	Mélange de fruits frais de saison	Salade de fruits	5.5	15 minutes	2
16	65	FRUITS	2025-05-24 11:16:03.433296	Compote maison sans sucre ajouté	Compote de pommes	3.2	20 minutes	2
17	165	VIANDES	2025-05-24 11:16:03.433296	Blanc de poulet grillé aux herbes	Poulet grillé	8.5	25 minutes	3
18	250	VIANDES	2025-05-24 11:16:03.433296	Steak de bœuf grillé saignant	Steak de bœuf	12.8	15 minutes	3
19	130	CEREALES	2025-05-24 11:16:03.433296	Riz parfumé aux légumes	Riz pilaf	4.5	30 minutes	4
20	320	CEREALES	2025-05-24 11:16:03.433296	Pâtes italiennes à la crème	Pâtes carbonara	6.8	20 minutes	4
21	280	DESSERTS	2025-05-24 11:16:03.433296	Tarte traditionnelle aux pommes	Tarte aux pommes	8.2	45 minutes	5
22	195	DESSERTS	2025-05-24 11:16:03.433296	Mousse légère au chocolat noir	Mousse au chocolat	4.5	30 minutes	5
\.


--
-- Data for Name: food_ingredient; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.food_ingredient (quantite_utilisee, unite, food_id, ingredient_id) FROM stdin;
1	pièce	15	6
1	pièce	15	31
1	pièce	15	7
1	pièce	15	32
1	pièce	15	8
1	pièce	15	33
100	grammes	15	9
100	grammes	15	34
150	grammes	17	11
150	grammes	17	36
5	ml	17	21
5	ml	17	46
1	pincée	17	22
1	pincée	17	47
1	pincée	17	23
1	pincée	17	48
100	grammes	19	16
100	grammes	19	41
30	grammes	19	3
30	grammes	19	28
50	grammes	19	2
50	grammes	19	27
10	ml	19	21
10	ml	19	46
1	pincée	19	22
1	pincée	19	47
100	grammes	20	17
100	grammes	20	42
50	grammes	20	15
50	grammes	20	40
1	pièce	20	25
1	pièce	20	50
20	grammes	20	24
20	grammes	20	49
1	pincée	20	23
1	pincée	20	48
\.


--
-- Data for Name: image; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.image (id, chemin_fichier, date_upload, nom_fichier, taille_fichier, type_image, food_id, ingredient_id) FROM stdin;
\.


--
-- Data for Name: ingredient; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.ingredient (id, date_creation, description, nom, quantite, type, unite) FROM stdin;
1	2025-05-24 10:50:49.328434	Tomate rouge fraîche	Tomate	100	FRAIS	grammes
2	2025-05-24 10:50:49.328434	Carotte orange croquante	Carotte	100	FRAIS	grammes
3	2025-05-24 10:50:49.328434	Oignon jaune classique	Oignon	100	FRAIS	grammes
4	2025-05-24 10:50:49.328434	Pomme de terre à chair ferme	Pomme de terre	100	FRAIS	grammes
5	2025-05-24 10:50:49.328434	Salade verte fraîche	Salade	100	FRAIS	grammes
6	2025-05-24 10:50:49.328434	Pomme rouge croquante	Pomme	1	FRAIS	pièce
7	2025-05-24 10:50:49.328434	Banane jaune mûre	Banane	1	FRAIS	pièce
8	2025-05-24 10:50:49.328434	Orange juteuse	Orange	1	FRAIS	pièce
9	2025-05-24 10:50:49.328434	Fraise rouge sucrée	Fraise	100	FRAIS	grammes
10	2025-05-24 10:50:49.328434	Raisin blanc ou rouge	Raisin	100	FRAIS	grammes
11	2025-05-24 10:50:49.328434	Blanc de poulet	Poulet	100	FRAIS	grammes
12	2025-05-24 10:50:49.328434	Steak de bœuf	Bœuf	100	FRAIS	grammes
13	2025-05-24 10:50:49.328434	Côte de porc	Porc	100	FRAIS	grammes
14	2025-05-24 10:50:49.328434	Filet de poisson blanc	Poisson	100	FRAIS	grammes
15	2025-05-24 10:50:49.328434	Jambon blanc en tranches	Jambon	100	CONSERVE	grammes
16	2025-05-24 10:50:49.328434	Riz blanc long grain	Riz	100	SEC	grammes
17	2025-05-24 10:50:49.328434	Pâtes italiennes	Pâtes	100	SEC	grammes
18	2025-05-24 10:50:49.328434	Pain de mie complet	Pain	1	FRAIS	tranche
19	2025-05-24 10:50:49.328434	Farine de blé T65	Farine	100	SEC	grammes
20	2025-05-24 10:50:49.328434	Flocons d'avoine	Avoine	100	SEC	grammes
21	2025-05-24 10:50:49.328434	Huile d'olive extra vierge	Huile d'olive	15	CONSERVE	ml
22	2025-05-24 10:50:49.328434	Sel fin de cuisine	Sel	1	SEC	pincée
23	2025-05-24 10:50:49.328434	Poivre noir moulu	Poivre	1	SEC	pincée
24	2025-05-24 10:50:49.328434	Beurre doux	Beurre	10	FRAIS	grammes
25	2025-05-24 10:50:49.328434	Œuf de poule frais	Œuf	1	FRAIS	pièce
26	2025-05-24 11:16:03.432072	Tomate rouge fraîche	Tomate	100	FRAIS	grammes
27	2025-05-24 11:16:03.432072	Carotte orange croquante	Carotte	100	FRAIS	grammes
28	2025-05-24 11:16:03.432072	Oignon jaune classique	Oignon	100	FRAIS	grammes
29	2025-05-24 11:16:03.432072	Pomme de terre à chair ferme	Pomme de terre	100	FRAIS	grammes
30	2025-05-24 11:16:03.432072	Salade verte fraîche	Salade	100	FRAIS	grammes
31	2025-05-24 11:16:03.432072	Pomme rouge croquante	Pomme	1	FRAIS	pièce
32	2025-05-24 11:16:03.432072	Banane jaune mûre	Banane	1	FRAIS	pièce
33	2025-05-24 11:16:03.432072	Orange juteuse	Orange	1	FRAIS	pièce
34	2025-05-24 11:16:03.432072	Fraise rouge sucrée	Fraise	100	FRAIS	grammes
35	2025-05-24 11:16:03.432072	Raisin blanc ou rouge	Raisin	100	FRAIS	grammes
36	2025-05-24 11:16:03.432072	Blanc de poulet	Poulet	100	FRAIS	grammes
37	2025-05-24 11:16:03.432072	Steak de bœuf	Bœuf	100	FRAIS	grammes
38	2025-05-24 11:16:03.432072	Côte de porc	Porc	100	FRAIS	grammes
39	2025-05-24 11:16:03.432072	Filet de poisson blanc	Poisson	100	FRAIS	grammes
40	2025-05-24 11:16:03.432072	Jambon blanc en tranches	Jambon	100	CONSERVE	grammes
41	2025-05-24 11:16:03.432072	Riz blanc long grain	Riz	100	SEC	grammes
42	2025-05-24 11:16:03.432072	Pâtes italiennes	Pâtes	100	SEC	grammes
43	2025-05-24 11:16:03.432072	Pain de mie complet	Pain	1	FRAIS	tranche
44	2025-05-24 11:16:03.432072	Farine de blé T65	Farine	100	SEC	grammes
45	2025-05-24 11:16:03.432072	Flocons d'avoine	Avoine	100	SEC	grammes
46	2025-05-24 11:16:03.432072	Huile d'olive extra vierge	Huile d'olive	15	CONSERVE	ml
47	2025-05-24 11:16:03.432072	Sel fin de cuisine	Sel	1	SEC	pincée
48	2025-05-24 11:16:03.432072	Poivre noir moulu	Poivre	1	SEC	pincée
49	2025-05-24 11:16:03.432072	Beurre doux	Beurre	10	FRAIS	grammes
50	2025-05-24 11:16:03.432072	Œuf de poule frais	Œuf	1	FRAIS	pièce
\.


--
-- Data for Name: personne; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.personne (id, date_creation, email, mot_de_passe, nom, telephone) FROM stdin;
2	2025-05-24 10:46:09.045456	alice.martin@email.com	password123	Alice Martin	0123456789
3	2025-05-24 10:46:09.045456	bob.dupont@email.com	password456	Bob Dupont	0987654321
4	2025-05-24 10:46:09.045456	claire.bernard@email.com	password789	Claire Bernard	0654321987
5	2025-05-24 10:46:09.045456	david.petit@email.com	password321	David Petit	0147258369
6	2025-05-24 10:46:09.045456	emma.rousseau@email.com	password654	Emma Rousseau	0369258147
\.


--
-- Name: food_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.food_id_seq', 22, true);


--
-- Name: image_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.image_id_seq', 1, false);


--
-- Name: ingredient_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.ingredient_id_seq', 50, true);


--
-- Name: personne_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.personne_id_seq', 6, true);


--
-- Name: food_ingredient food_ingredient_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food_ingredient
    ADD CONSTRAINT food_ingredient_pkey PRIMARY KEY (food_id, ingredient_id);


--
-- Name: food food_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food
    ADD CONSTRAINT food_pkey PRIMARY KEY (id);


--
-- Name: image image_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT image_pkey PRIMARY KEY (id);


--
-- Name: ingredient ingredient_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ingredient
    ADD CONSTRAINT ingredient_pkey PRIMARY KEY (id);


--
-- Name: personne personne_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.personne
    ADD CONSTRAINT personne_pkey PRIMARY KEY (id);


--
-- Name: image ukdd29x196xrrsmcuedee9lx0nw; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT ukdd29x196xrrsmcuedee9lx0nw UNIQUE (ingredient_id);


--
-- Name: personne uklif11ug7pqkdimuk0beonbfng; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.personne
    ADD CONSTRAINT uklif11ug7pqkdimuk0beonbfng UNIQUE (email);


--
-- Name: food_ingredient fk356x2sy85kq3dmh7ms9p0lcnj; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food_ingredient
    ADD CONSTRAINT fk356x2sy85kq3dmh7ms9p0lcnj FOREIGN KEY (ingredient_id) REFERENCES public.ingredient(id);


--
-- Name: image fk9w3l8mvb24k174dmofiqbv7e9; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT fk9w3l8mvb24k174dmofiqbv7e9 FOREIGN KEY (food_id) REFERENCES public.food(id);


--
-- Name: image fkad7j7ciql3a84dcipud53yv2h; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT fkad7j7ciql3a84dcipud53yv2h FOREIGN KEY (ingredient_id) REFERENCES public.ingredient(id);


--
-- Name: food fkj53v2hm3ftl8h12kc9uswk1pd; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food
    ADD CONSTRAINT fkj53v2hm3ftl8h12kc9uswk1pd FOREIGN KEY (personne_id) REFERENCES public.personne(id);


--
-- Name: food_ingredient fkow2gcao53sewsfqmadv5kcfwg; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food_ingredient
    ADD CONSTRAINT fkow2gcao53sewsfqmadv5kcfwg FOREIGN KEY (food_id) REFERENCES public.food(id);


--
-- PostgreSQL database dump complete
--

